{"version":3,"sources":["webpack://@firefight/flarum-feedback-plugin/webpack/bootstrap","webpack://@firefight/flarum-feedback-plugin/./forum.js","webpack://@firefight/flarum-feedback-plugin/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@firefight/flarum-feedback-plugin/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@firefight/flarum-feedback-plugin/./src/js/Discussion.js","webpack://@firefight/flarum-feedback-plugin/./src/js/settingsOverride.js","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/Component']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/components/Dropdown']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/components/Link']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/components/Modal']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/components/Tooltip']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/extend']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/helpers/avatar']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/helpers/highlight']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/helpers/icon']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/helpers/listItems']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/utils/classList']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/utils/escapeRegExp']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['common/utils/humanTime']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['forum/app']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['forum/components/DiscussionListItem']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@firefight/flarum-feedback-plugin/external \"flarum.core.compat['utils/DiscussionControls']\""],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","setPrototypeOf","_setPrototypeOf","o","p","__proto__","DiscussionListItem","view","discussion","attrs","reportData","data","attributes","report_data","user","isUnread","isRead","jumpTo","controls","DiscussionControls","toArray","elementAttrs","params","q","post","mostRelevantPost","number","phrase","escapeRegExp","highlightRegExp","RegExp","trim","replace","Math","min","lastPostNumber","lastReadPostNumber","console","log","undefined","thin","length","Dropdown","component","icon","className","buttonClassName","accessibleToggleLabel","app","translator","trans","markAsRead","bind","classList","unread","read","ago","humanTime","createdAt","route","avatar","title","listItems","badges","highlight","infoItems","replyCountItem","discussionColor","mood","join","uuid","image_url","extend","_","vnode","subtree","element","clientWidth","VerificationCodeModal","content","code","forum","attribute","floor","Modal","isDismissible","KeyGenerator","onClick","request","method","path","then","response","modal","show","Component","BoundAccounts","store","SettingsPage","items","add"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/js/settingsOverride'\nexport * from './src/js/Discussion'\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import { extend } from 'flarum/common/extend'\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem'\nimport app from 'flarum/forum/app';\nimport Link from 'flarum/common/components/Link';\nimport avatar from 'flarum/common/helpers/avatar';\nimport listItems from 'flarum/common/helpers/listItems';\nimport highlight from 'flarum/common/helpers/highlight';\nimport icon from 'flarum/common/helpers/icon';\nimport humanTime from 'flarum/common/utils/humanTime';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport classList from 'flarum/common/utils/classList';\nimport escapeRegExp from 'flarum/common/utils/escapeRegExp';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nDiscussionListItem.prototype.view = function() {\n  const discussion = this.attrs.discussion;\n  const reportData = this.attrs.discussion.data.attributes.report_data;\n  const user = discussion.user();\n  const isUnread = discussion.isUnread();\n  const isRead = discussion.isRead();\n\n  let jumpTo = 0;\n  const controls = DiscussionControls.controls(discussion, this).toArray();\n  const attrs = this.elementAttrs();\n\n  if (this.attrs.params.q) {\n    const post = discussion.mostRelevantPost();\n    if (post) {\n      jumpTo = post.number();\n    }\n\n    const phrase = escapeRegExp(this.attrs.params.q);\n    this.highlightRegExp = new RegExp(phrase + '|' + phrase.trim().replace(/\\s+/g, '|'), 'gi');\n  } else {\n    jumpTo = Math.min(discussion.lastPostNumber(), (discussion.lastReadPostNumber() || 0) + 1);\n  }\n\n  console.log(this)\n\n  if (reportData === undefined || this.thin) {\n    return (\n      <div {...attrs}>\n        {controls.length > 0 &&\n         Dropdown.component(\n           {\n             icon: 'fas fa-ellipsis-v',\n             className: 'DiscussionListItem-controls',\n             buttonClassName: 'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right',\n             accessibleToggleLabel: app.translator.trans('core.forum.discussion_controls.toggle_dropdown_accessible_label'),\n           },\n           controls\n         )}\n\n        <span\n          className={'Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic' + (isUnread ? '' : ' disabled')}\n          onclick={this.markAsRead.bind(this)}\n        >\n          {icon('fas fa-check')}\n        </span>\n\n        <div className={classList('DiscussionListItem-content', 'Slidable-content', { unread: isUnread, read: isRead })}>\n          <Tooltip\n            text={app.translator.trans('core.forum.discussion_list.started_text', { user, ago: humanTime(discussion.createdAt()) })}\n            position=\"right\"\n          >\n            <Link className=\"DiscussionListItem-author\" href={user ? app.route.user(user) : '#'}>\n              {avatar(user, { title: '' })}\n            </Link>\n          </Tooltip>\n\n          <ul className=\"DiscussionListItem-badges badges\">{listItems(discussion.badges().toArray())}</ul>\n\n          <Link href={app.route.discussion(discussion, jumpTo)} className=\"DiscussionListItem-main\">\n            <h3 className=\"DiscussionListItem-title\">{highlight(discussion.title(), this.highlightRegExp)}</h3>\n            <ul className=\"DiscussionListItem-info\">{listItems(this.infoItems().toArray())}</ul>\n          </Link>\n          {this.replyCountItem()}\n        </div>\n      </div>\n    );\n  } else {\n    let discussionColor = 'green'\n\n    switch (reportData.mood) {\n      case 1:\n        discussionColor = 'amber'\n        break\n      case 2:\n        discussionColor = 'red'\n        break\n    }\n\n\n    return (\n      <div {...attrs} className={\n        [\n          'DiscussionListWithReport',\n          `DiscussionListSidebar-${discussionColor}`\n        ].join(' ')\n      }>\n        <div>\n\n\n          <div className={classList('DiscussionListItem-content', 'Slidable-content', { unread: isUnread, read: isRead })}>\n            <Tooltip\n              text={app.translator.trans('core.forum.discussion_list.started_text', { user, ago: humanTime(discussion.createdAt()) })}\n              position=\"right\"\n            >\n              <img width={70} height={70} src={`https://visage.surgeplay.com/head/${reportData.uuid}`}/>\n            </Tooltip>\n            <div>\n              <div>\n                {listItems(this.infoItems().toArray()[0])}\n                {this.replyCountItem()}\n              </div>\n              <div>\n                <Link href={app.route.discussion(discussion, jumpTo)} classList=\"DiscussionListItem-main\">\n                  <h3 class=\"DiscussionListItem-title\">{highlight(discussion.title(), this.highlightRegExp)}</h3>\n                </Link>\n                <div className=\"overlay\"></div>\n              </div>\n            </div>\n            {controls.length > 0 &&\n              Dropdown.component(\n                {\n                  icon: 'fas fa-ellipsis-v',\n                  className: 'DiscussionListItem-controls',\n                  buttonClassName: 'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right',\n                  accessibleToggleLabel: app.translator.trans('core.forum.discussion_controls.toggle_dropdown_accessible_label'),\n                },\n                controls\n              )\n            }\n          </div>\n          <ul className=\"DiscussionListItem-info\">\n            {listItems(this.infoItems().toArray()[1])}\n          </ul>\n        </div>\n        <img src={reportData.image_url}/>\n      </div>\n    );\n  }\n}\n\nextend(DiscussionListItem.prototype, 'oncreate', function(_, vnode) {\n  if (this.attrs.thin === undefined) {\n    this.subtree.data.thin = this.element.clientWidth < 820\n  }\n})\n","import { extend } from 'flarum/common/extend'\nimport SettingsPage from 'flarum/forum/components/SettingsPage'\nimport Component from 'flarum/common/Component'\nimport listItems from 'flarum/common/helpers/listItems'\nimport Modal from 'flarum/common/components/Modal'\nimport app from 'flarum/forum/app'\n\nclass VerificationCodeModal extends Modal {\n  // True by default, dictates whether the modal can be dismissed by clicking on the background or in the top right corner.\n  static isDismissible = true;\n\n  className() {\n    // Custom CSS classes to apply to the modal\n    return 'verificationCodeModal';\n  }\n\n  title() {\n    // Content to show in the modal's title bar\n    return <p>Generated Code</p>;\n  }\n\n  content() {\n    // Content to show in the modal's body\n    return <section>\n        <p>\n            Your code is {` ${this.attrs.code} `}, use the command \n            <b><code>{` ${app.forum.attribute('bindCommand')} ${this.attrs.code} `}</code></b> within\n            the next {` ${Math.floor(app.forum.attribute('VerificationCodeTimeout') / (1000 * 60))} `}\n            minutes to bind your Minecraft accond to the Forums.</p>\n    </section>;\n  }\n}\n\nclass KeyGenerator extends Component {\n    view() {\n        return (\n            <li>\n              <legend>Bind Minecraft account to Firefight Forums</legend>\n              <p>\n                To bind your Minecraft account to the Firefight Forums, press\n                the button to obtain a code that will last for\n                <b>\n                {` ${Math.floor(app.forum.attribute('VerificationCodeTimeout') / (1000 * 60))} `}\n                </b>\n                minutes that you can then submit on the firefight minecraft\n                server using the\n                <b>\n                    <code>\n                        {` ${app.forum.attribute('bindCommand')} `}\n                    </code>\n                </b>\n                command\n              </p>\n              <button className=\"Button\" onclick={this.onClick}>Bind Account</button>\n            </li>\n        )\n    }\n\n    onClick() {\n        app.request({\n          method: \"POST\",\n          path: \"/api/generateUUIDAuthToken\"\n        }).then(response => {\n          app.modal.show(VerificationCodeModal, { code: response.code })\n        })\n    }\n}\n\nclass BoundAccounts extends Component {\n  view() {\n    console.log(app.store)\n    // app.store.find('uuids').then(console.log)\n    return (\n      <li>\n        <legend>Bound Minecraft Accounts</legend>\n        <p>TODO: Table of minecraft accounts wiz remove option</p>\n      </li>\n    )\n  }\n}\n\nextend(SettingsPage.prototype, 'settingsItems', function(items) {\n    items\n        .add('keyGenerator', <KeyGenerator />)\n        .add('boundAccounts', <BoundAccounts />)\n})\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/highlight'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['common/utils/escapeRegExp'];","module.exports = flarum.core.compat['common/utils/humanTime'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/DiscussionListItem'];","module.exports = flarum.core.compat['forum/components/SettingsPage'];","module.exports = flarum.core.compat['utils/DiscussionControls'];"],"sourceRoot":""}